#N canvas 522 50 503 253 12;
#X declare -lib aoo -path ./lib;
#X obj 1 1 cnv 15 500 250 version version-set AccadAoo-v1.1 20 12 0
14 -1 -262144 0;
#X obj 359 37 _meter in;
#X obj 412 37 _meter out;
#N canvas 1024 48 256 496 guts 1;
#N canvas 83 0 447 269 gui-glue 0;
#N canvas 155 54 918 645 formats 0;
#X obj 73 8 r format;
#X obj 91 151 list split 2;
#X obj 97 218 list split 1;
#X obj 139 280 list split 1;
#X msg 34 321 \; opus-blocksize-set set \$1 \; opus-samplerate-set
set \$2;
#X obj 42 412 route float;
#X msg 42 438 \; opus-bitrate-set set \$1;
#X obj 159 492 route float;
#X msg 159 518 \; opus-complexity-set set \$1;
#X obj 138 249 route bang;
#X obj 114 184 route bang;
#X obj 235 375 route symbol;
#X msg 247 469 \; opus-type-set set \$1;
#X obj 213 409 sel music voice auto;
#X msg 213 435 0;
#X msg 248 433 1;
#X msg 286 434 2;
#X obj 114 56 route opus pcm;
#X obj 293 152 list split 1;
#X obj 357 185 route bang;
#X obj 423 218 list split 1;
#X obj 467 246 route bang;
#X obj 527 284 list split 1;
#X msg 402 373 \; pcm-samplerate-set set \$1;
#X msg 412 413 \; pcm-bitdepth-set set \$1;
#X obj 102 103 t a b;
#X obj 227 104 t a b;
#X obj 572 42 sel 0 1;
#X msg 555 83 6 10;
#X msg 604 81 10 6;
#X msg 555 119 \; pcm-canvas-set color \$1 0 22 \; opus-canvas-set
color \$2 0 22;
#X msg 152 98 1;
#X msg 294 94 0;
#X obj 93 32 route format;
#X msg 659 457 label \$1;
#X obj 661 430 makefilename pcm-blocksize:%d;
#X obj 659 483 s pcm-blocksize-set;
#X obj 533 306 sel 8;
#X msg 533 332 3;
#X obj 567 339 - 2;
#X msg 612 208 \; compression-set set 1 \, label opus;
#X msg 672 287 \; compression-set set 0 \, label pcm;
#X obj 686 14 r compression;
#X obj 686 40 sel 0 1;
#X msg 686 66 \; pcm-set bang;
#X msg 785 61 \; opus-set bang;
#X connect 0 0 33 0;
#X connect 1 0 4 0;
#X connect 1 1 10 0;
#X connect 2 0 5 0;
#X connect 2 1 9 0;
#X connect 3 0 7 0;
#X connect 3 1 11 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 9 1 3 0;
#X connect 10 1 2 0;
#X connect 11 0 13 0;
#X connect 13 0 14 0;
#X connect 13 1 15 0;
#X connect 13 2 16 0;
#X connect 14 0 12 0;
#X connect 15 0 12 0;
#X connect 16 0 12 0;
#X connect 17 0 25 0;
#X connect 17 1 26 0;
#X connect 18 0 35 0;
#X connect 18 1 19 0;
#X connect 19 1 20 0;
#X connect 20 0 23 0;
#X connect 20 1 21 0;
#X connect 21 1 22 0;
#X connect 22 0 37 0;
#X connect 25 0 1 0;
#X connect 25 1 31 0;
#X connect 25 1 40 0;
#X connect 26 0 18 0;
#X connect 26 1 32 0;
#X connect 26 1 41 0;
#X connect 27 0 28 0;
#X connect 27 1 29 0;
#X connect 28 0 30 0;
#X connect 29 0 30 0;
#X connect 31 0 27 0;
#X connect 32 0 27 0;
#X connect 33 0 17 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 37 0 38 0;
#X connect 37 1 39 0;
#X connect 38 0 24 0;
#X connect 39 0 24 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 43 1 45 0;
#X restore 39 70 pd formats;
#X text 39 6 gui-feedback logic;
#N canvas 30 22 1034 756 status 0;
#X obj 552 47 r connect;
#X obj 415 37 r connected;
#X msg 480 167 0;
#X obj 187 113 s status;
#X obj 483 220 s connecting-set;
#X obj 262 201 s joining_group-set;
#X obj 136 343 int 10;
#X obj 58 340 int 6;
#X obj 35 29 r online;
#X obj 74 161 sel 1 0;
#X obj 117 118 sel 1;
#X msg 179 157 0;
#X obj 262 175 metro 80;
#X obj 483 194 metro 120;
#X msg 204 384 color \$1 0 22;
#X obj 490 480 s status-set;
#X obj 250 271 symbol;
#X obj 250 246 r username;
#X obj 334 247 r group_join;
#X obj 334 273 symbol;
#X obj 237 310 list;
#X msg 661 355 label connecting...;
#X obj 432 370 sel 1;
#X msg 432 396 label joining_group...;
#X msg 177 408 label offline;
#X obj 70 219 t b b;
#X obj 421 64 t f f f;
#X obj 664 210 sel 1 0;
#X obj 552 141 t f f;
#X obj 475 106 sel 1 0;
#X msg 561 79 disconnected;
#X obj 237 336 list;
#X msg 207 554 line 0 \, auto;
#X obj 207 578 text sequence peers;
#X obj 51 576 text size peers;
#X obj 342 618 t b b;
#X obj 241 628 list split 1;
#X obj 207 604 list split 1;
#X msg 241 654 append \$1;
#X obj 274 692 list store;
#X obj 746 664 s status-update;
#X obj 44 544 metro 1000;
#X obj 369 466 _l2s _;
#X msg 486 729 label peers:\$1;
#X obj 40 601 ==;
#X obj 37 637 sel 0 1;
#X msg 650 575 label waiting_for_peers...;
#X obj 60 668 s connecting-set;
#X obj 647 548 r connecting;
#X msg 343 325 label online__(\$2|\$1);
#X obj 136 314 t b b b;
#X obj 36 76 t f f f f;
#X text 53 447 When online \, start trying to connect to peers if there
are no peers connected, f 16;
#X obj 350 544 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 385 503 list fromsymbol;
#X obj 477 698 list tosymbol;
#X obj 422 619 list split 32;
#X obj 638 642 list fromsymbol;
#X floatatom 638 668 5 0 0 0 - - -;
#X msg 638 616 symbol .;
#X obj 427 658 list append 46 46 46;
#X obj 389 526 t a a;
#X obj 553 546 list length;
#X obj 553 572 moses 32;
#X obj 409 585 route 0 1;
#X obj 396 560 list prepend;
#X msg 553 598 1;
#X msg 587 596 0;
#X obj 699 285 s online-set;
#X msg 696 248 0;
#X obj 561 105 print client;
#X msg 382 428 label TYPE:\\\ username\\\,\\\ group.\\\ TOGGLE:\\\ connect\\\,\\\ start
;
#X obj 692 11 r online;
#X obj 770 14 r start;
#X obj 770 40 sel;
#X obj 692 37 sel;
#X msg 695 82 \; to_aoo_receive all uninvite \; to_aoo_send all remove
;
#X connect 0 0 28 0;
#X connect 1 0 26 0;
#X connect 2 0 13 0;
#X connect 6 0 14 0;
#X connect 7 0 14 0;
#X connect 8 0 51 0;
#X connect 9 0 25 0;
#X connect 9 1 50 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 5 0;
#X connect 13 0 4 0;
#X connect 14 0 15 0;
#X connect 16 0 20 1;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 31 1;
#X connect 20 0 31 0;
#X connect 21 0 15 0;
#X connect 22 0 23 0;
#X connect 23 0 15 0;
#X connect 24 0 15 0;
#X connect 25 0 7 0;
#X connect 25 1 20 0;
#X connect 26 0 12 0;
#X connect 26 1 22 0;
#X connect 26 2 29 0;
#X connect 27 0 21 0;
#X connect 27 1 69 0;
#X connect 28 0 13 0;
#X connect 28 1 27 0;
#X connect 29 0 2 0;
#X connect 29 1 30 0;
#X connect 30 0 70 0;
#X connect 31 0 49 0;
#X connect 32 0 33 0;
#X connect 33 0 37 0;
#X connect 33 1 35 0;
#X connect 34 0 44 0;
#X connect 35 0 39 1;
#X connect 35 1 39 0;
#X connect 36 0 38 0;
#X connect 37 1 36 0;
#X connect 38 0 39 0;
#X connect 39 0 42 0;
#X connect 41 0 34 0;
#X connect 42 0 54 0;
#X connect 43 0 40 0;
#X connect 44 0 45 0;
#X connect 45 0 32 0;
#X connect 45 1 47 0;
#X connect 46 0 40 0;
#X connect 48 0 46 0;
#X connect 49 0 15 0;
#X connect 50 0 6 0;
#X connect 50 1 24 0;
#X connect 50 2 71 0;
#X connect 51 0 41 0;
#X connect 51 1 9 0;
#X connect 51 2 10 0;
#X connect 51 3 3 0;
#X connect 53 0 39 0;
#X connect 54 0 61 0;
#X connect 55 0 43 0;
#X connect 56 0 60 0;
#X connect 57 0 58 0;
#X connect 59 0 57 0;
#X connect 60 0 55 0;
#X connect 61 0 65 0;
#X connect 61 1 62 0;
#X connect 62 0 63 0;
#X connect 63 0 66 0;
#X connect 63 1 67 0;
#X connect 64 0 56 0;
#X connect 64 1 55 0;
#X connect 65 0 64 0;
#X connect 66 0 65 1;
#X connect 67 0 65 1;
#X connect 69 0 68 0;
#X connect 71 0 40 0;
#X connect 72 0 75 0;
#X connect 73 0 74 0;
#X connect 74 0 76 0;
#X connect 75 0 76 0;
#X restore 39 37 pd status;
#N canvas 0 22 450 300 report-peers 0;
#X obj 40 35 r peers;
#X obj 40 61 text size peers;
#X obj 40 87 sel;
#X msg 40 113 no peers yet...;
#X obj 40 139 print;
#X msg 194 89 line 0 \, auto;
#X obj 194 115 text sequence peers;
#X obj 194 141 list split 2;
#X obj 194 167 list split 1;
#X obj 234 235 print peers;
#X obj 234 201 list trim;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 1 10 0;
#X connect 10 0 9 0;
#X restore 37 105 pd report-peers;
#X msg 278 43 menu-open;
#X obj 278 17 r advanced;
#X obj 278 69 s \$0-advanced;
#N canvas 495 105 491 384 setters 0;
#X obj 34 124 _settxt port default_settings 1;
#X obj 34 214 _settxt packetsize default_settings 1;
#X obj 34 180 _settxt bufsize default_settings 1;
#X obj 34 150 _settxt compression default_settings 1;
#X obj 36 249 _settxt timefilter default_settings 1;
#X obj 33 34 _settxt username default_settings 2;
#X obj 33 64 _settxt group_join default_settings 2;
#X obj 34 94 _settxt hostname default_settings 2;
#X obj 36 289 _settxt send_to default_settings 2;
#X obj 36 319 _settxt receive_from default_settings 2;
#X restore 40 134 pd setters;
#X obj 146 207 _console;
#X obj 145 147 r version-set;
#X obj 145 173 route label;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X restore 23 240 pd gui-glue;
#X obj 23 22 declare -lib aoo -path ./lib;
#N canvas 55 31 466 485 loadbang 0;
#X obj 20 14 loadbang;
#X msg 203 199 label \$1;
#X obj 203 225 s version-set;
#X obj 210 76 r max-version;
#X msg 210 128 set \$1;
#X obj 210 102 makefilename AccadAoo-v%d.%%d;
#X obj 202 164 makefilename;
#X obj 186 44 r min-version;
#X msg 20 40 \; max-version 1 \; min-version 1 \; pd dsp 1 \; in-meter-set
1 \; out-meter-set 1 \; online-set 0 \; connect-set 0 \; start-set
set 0 \; ping_time-set 1000 \; in-vol-set 100 \; out-vol-set 100 \;
default-set bang \; test-send-set 0 \; adc-switch-set 1 \; print-title
design by Fede Camara Halac and Marc Ainger;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 3 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X restore 23 53 pd loadbang;
#N canvas 465 79 649 489 peers 0;
#X obj 60 340 text set peers;
#X obj 110 189 list split 2;
#X obj 60 250 spigot;
#X obj 60 277 t a b;
#X msg 107 305 1000;
#X obj 60 308 list;
#X obj 113 250 == -1;
#X obj 59 189 t a a;
#X obj 111 221 text search peers 0 1;
#X obj 237 280 list split 2;
#X obj 238 312 text search peers 0 1;
#X obj 240 341 sel -1;
#X obj 280 372 text delete peers;
#X obj 30 75 route peer_join peer_leave;
#X obj 264 44 text define peers;
#X obj 27 27 r client-8888;
#X text 279 102 they are automatically logged into a text file;
#X text 302 129 we use for our own connection logic;
#X text 254 80 peers will be handled here;
#X text 297 193 <-- update internal list at every peer joins/leaves
, f 30;
#X obj 40 424 s connecting-set;
#X obj 25 138 t b a;
#X obj 152 147 t b a;
#X text 30 4 store peers internally;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 0 1;
#X connect 5 0 0 0;
#X connect 6 0 2 1;
#X connect 7 0 2 0;
#X connect 7 1 1 0;
#X connect 8 0 6 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 1 12 0;
#X connect 13 0 21 0;
#X connect 13 1 22 0;
#X connect 15 0 13 0;
#X connect 21 0 20 0;
#X connect 21 1 7 0;
#X connect 22 0 20 0;
#X connect 22 1 9 0;
#X restore 23 209 pd peers;
#N canvas 307 61 659 523 tests 0;
#X msg 37 364 \; send_to player1;
#X msg 37 316 \; send_to all;
#X msg 35 411 \; send_to list player1 player2;
#X msg 157 364 \; send_to player2;
#X msg 298 303 \; receive_from all;
#X msg 302 409 \; receive_from list player1 player2 player3 3 4 1 2
1 2, f 30;
#X msg 302 359 \; receive_from list player1 player2 3 4 1 2;
#X obj 247 138 r to_aoo_send;
#X obj 424 129 r to_aoo_receive;
#X obj 421 201 print to_aoo_receive;
#X obj 244 210 print to_aoo_send;
#X msg 431 299 \; receive_from player2;
#X obj 245 174 spigot;
#X obj 422 165 spigot;
#X obj 381 141 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 359 104 print out connections;
#X text 37 247 these are set by the setup.txt file at startup:;
#X text 35 263 these are possible different setups that our implementation
allows:;
#N canvas 0 22 450 300 mimick 0;
#X msg 282 221 clear;
#X obj 220 259 s peers;
#X msg 187 197 click;
#X obj 62 179 s client-8888;
#X msg 38 35 1;
#X msg 85 32 2;
#X msg 133 32 3;
#X msg 56 67 peer_join group player\$1 extra args 1 2 3;
#X msg 68 105 1;
#X msg 115 102 2;
#X msg 163 102 3;
#X msg 86 137 peer_leave group player\$1 extra args 1 2 3;
#X text 168 32 1) peers join;
#X text 202 103 2) peers leave;
#X text 189 170 see here;
#X text 302 200 clear peers memory;
#X connect 0 0 1 0;
#X connect 2 0 1 0;
#X connect 4 0 7 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 3 0;
#X connect 8 0 11 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 11 0 3 0;
#X restore 45 125 pd mimick client;
#N canvas 0 22 450 300 test-send 0;
#X obj 132 67 osc~ 880;
#X obj 132 99 *~;
#X obj 256 37 r test-send;
#X obj 278 100 switch~;
#X obj 53 22 metro 400;
#X obj 53 48 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 53 68 sel 0 1;
#X msg 110 145 1 10 \, 0.6 100 10 \, 0 200 110;
#X obj 110 171 vline~;
#X obj 110 197 *~;
#X msg 197 174 1 10 \, 0.6 100 10 \, 0 200 110;
#X obj 197 200 vline~;
#X obj 197 226 *~;
#X obj 53 94 random 10;
#X obj 53 146 mtof;
#X obj 53 120 + 67;
#X obj 77 224 *~ 0.4;
#X obj 143 225 *~ 0.4;
#X obj 45 251 throw~ dacin-1;
#X obj 168 261 throw~ dacin-2;
#X connect 0 0 1 0;
#X connect 1 0 9 1;
#X connect 1 0 12 1;
#X connect 2 0 1 1;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 13 0;
#X connect 6 1 10 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 16 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 17 0;
#X connect 13 0 15 0;
#X connect 14 0 0 0;
#X connect 15 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 19 0;
#X restore 42 169 pd test-send;
#X connect 7 0 12 0;
#X connect 8 0 13 0;
#X connect 12 0 10 0;
#X connect 13 0 9 0;
#X connect 14 0 12 1;
#X connect 14 0 13 1;
#X restore 23 271 pd tests;
#N canvas 0 22 450 300 aoo_client 0;
#X obj 101 166 aoo_client 8888;
#X obj 94 238 s connected;
#X obj 203 194 s client-8888;
#X text 234 166 <-- the aoo_client;
#N canvas 524 133 738 464 group 0;
#X obj 362 266 symbol;
#X obj 362 227 spigot;
#X msg 255 241 1;
#X obj 146 39 r group_join;
#X obj 150 67 symbol;
#X obj 95 245 symbol;
#X text 346 119 2) b) leave grup;
#X symbolatom 207 138 0 0 0 0 - - -;
#X obj 362 159 r connect;
#X obj 186 170 t a b a;
#X text 246 46 <-- auto-join group on sucessful connection;
#X obj 362 193 sel;
#X msg 95 274 group_join \$1 foo;
#X obj 274 391 outlet;
#X msg 362 297 group_leave \$1 \, disconnect;
#X obj 62 137 inlet;
#X msg 58 379 couldn't connect...;
#X obj 58 405 print;
#X obj 62 168 sel 0 1;
#X connect 0 0 14 0;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 0 9 0;
#X connect 5 0 12 0;
#X connect 8 0 11 0;
#X connect 9 0 5 1;
#X connect 9 1 2 0;
#X connect 9 2 0 1;
#X connect 11 0 1 0;
#X connect 12 0 13 0;
#X connect 14 0 13 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 18 0 16 0;
#X connect 18 1 5 0;
#X restore 46 108 pd group;
#X obj 122 28 r connect;
#X obj 122 55 sel 1;
#N canvas 0 22 450 300 reconnect 0;
#X obj 78 29 r connected;
#X obj 78 55 sel;
#X obj 32 141 del 1000;
#X obj 172 236 print;
#X obj 270 33 r connect;
#X obj 38 187 spigot;
#X msg 133 98 stop;
#X obj 211 85 sel;
#X obj 37 247 outlet;
#X obj 178 167 spigot;
#X obj 41 101 t a a;
#X msg 153 202 waiting 1 second to reconnect...;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 1 6 0;
#X connect 2 0 5 0;
#X connect 4 0 5 1;
#X connect 4 0 7 0;
#X connect 4 0 9 1;
#X connect 5 0 8 0;
#X connect 6 0 2 0;
#X connect 7 0 6 0;
#X connect 9 0 11 0;
#X connect 10 0 2 0;
#X connect 10 1 9 0;
#X connect 11 0 3 0;
#X restore 160 85 pd reconnect;
#X obj 44 196 t f f;
#N canvas 294 63 530 452 connect 0;
#X obj 200 100 symbol;
#X obj 200 75 r username;
#X obj 356 75 r hostname;
#X obj 54 255 list prepend vrr.iem.at;
#X obj 356 104 symbol;
#X obj 54 221 list prepend 7077;
#X obj 290 75 r port;
#X obj 54 187 list;
#X symbolatom 356 130 0 0 0 0 - - -;
#X floatatom 306 102 5 0 0 0 - - -;
#X msg 54 289 connect \$1 \$2 \$3 foo;
#X symbolatom 202 127 0 0 0 0 - - -;
#X text 45 27 'connect' message to server;
#X obj 54 335 outlet;
#X obj 66 77 inlet;
#X connect 0 0 7 1;
#X connect 0 0 11 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 3 1;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 6 0 9 0;
#X connect 7 0 5 0;
#X connect 10 0 13 0;
#X connect 14 0 7 0;
#X restore 141 122 pd connect hostname port username;
#X connect 0 0 8 0;
#X connect 0 1 2 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 7 0 9 0;
#X connect 8 0 4 0;
#X connect 8 1 1 0;
#X connect 9 0 0 0;
#X restore 23 147 pd aoo_client;
#N canvas 394 239 450 300 default 0;
#X obj 32 13 r default;
#X msg 32 39 line 0 \, auto;
#X obj 203 20 text define -k default_settings;
#A set username symbol testname \; group_join symbol testgroup \; hostname
symbol vrr.ffddcchh.com.ar \; port 9098 \; compression 0 \; bufsize
60 \; packetsize 512 \; timefilter 1 \; send_to symbol all \; receive_from
symbol all \;;
#X obj 32 65 text sequence default_settings -g;
#X msg 41 104 line 0 \, auto;
#X obj 41 130 text sequence default_settings;
#X obj 41 156 list split 2;
#X obj 41 182 list split 1;
#X obj 133 168 route bang;
#X obj 51 211 list;
#X obj 122 217 route float;
#X obj 51 237 list trim;
#X msg 265 133 default settings;
#X obj 276 72 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 51 263 s print-out;
#X obj 245 100 t b b;
#X obj 263 204 s print-title;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 1 15 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 9 0;
#X connect 7 1 10 0;
#X connect 8 1 9 1;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 11 0 14 0;
#X connect 12 0 16 0;
#X connect 13 0 15 0;
#X connect 15 0 4 0;
#X connect 15 1 12 0;
#X restore 23 84 pd default;
#N canvas 39 57 784 675 receive_from 0;
#N canvas 0 22 450 300 old 0;
#X msg 64 367 line 0 \, auto;
#X obj 64 401 text sequence peers;
#X obj 424 336 symbol;
#X obj 425 389 text search peers 1;
#X obj 425 415 sel -1;
#X obj 344 563 text get peers;
#X obj 429 491 symbol;
#X obj 150 61 _store receive_from;
#X obj 433 561 print receive_from;
#X obj 187 262 t a a;
#X obj 419 301 list split 1;
#X obj 237 384 spigot;
#X msg 325 386 1;
#X msg 359 386 0;
#X obj 150 93 route symbol list;
#X obj 146 126 sel all;
#X msg 635 359 1;
#X msg 600 359 0;
#X obj 599 426 metro 1000;
#X obj 208 198 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 600 395 change;
#X obj 481 455 t a b b;
#X obj 415 447 t a b b;
#X obj 599 452 symbol;
#X obj 425 361 t a a a;
#X obj 591 323 r \$0-clear;
#X obj 145 155 t b b;
#X obj 655 573 r \$0-clear;
#X obj 80 631 s to_aoo_receive;
#X obj 172 33 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 222 148 list append 1 2;
#X obj 190 332 list trim;
#X obj 190 306 list prepend connect;
#X obj 73 258 ==;
#X obj 73 284 sel;
#X obj 74 232 text size peers;
#X msg 433 531 \$1 not in group...;
#X text 297 59 <- store inside a text the receive_from values;
#X text 290 92 account for the 'list' message. if it's a symbol \,
then it's either 'all' or a player name;
#X text 36 106 'all' message reads all peers on the internal list,
f 11;
#X text 27 312 dont read if size=0;
#X text 233 188 <- after reading \, parse the list again \, just in
case we missed someone;
#X text 338 144 <-- append channels 1 2 for the case where only one
player name was specified.;
#N canvas 284 87 724 500 parse 0;
#X obj 344 186 list length;
#X obj 236 222 list split;
#X obj 343 212 / 3;
#X obj 452 107 text define channels;
#X obj 157 24 inlet;
#X obj 442 142 text define players;
#X obj 378 323 t a b;
#X obj 378 349 text set channels;
#X msg 423 325 1e+10;
#X obj 223 391 _list-drip;
#X obj 223 417 t a b;
#X msg 268 418 1e+10;
#X obj 223 443 text set players;
#X obj 378 297 _list-drip 2;
#X msg 367 46 clear;
#X obj 29 98 text size players;
#X obj 24 295 t f b;
#X obj 24 321 until;
#X obj 24 347 f;
#X obj 54 348 + 1;
#X msg 67 321 0;
#X obj 24 373 t f f;
#X obj 24 399 text get channels;
#X obj 24 425 list prepend;
#X obj 24 460 outlet;
#X obj 74 370 text get players;
#X obj 153 55 t b a a b;
#X obj 31 21 inlet;
#X obj 378 16 inlet;
#X obj 25 186 spigot;
#X obj 25 158 t f f;
#X obj 99 169 !=;
#X text 383 216 <-- list is :player:ch1:ch2;
#X text 387 242 :player1:player2:ch1p1:ch2p1:ch1p2:ch2p2...;
#X text 475 299 <-- drip stereo pairs;
#X text 306 389 <-- drip players;
#X text 432 65 store channels and players in texts;
#X text 41 137 dont bang on 0 players;
#X text 35 212 send out a 'playerX ch1 ch2' message for all players
, f 17;
#X connect 0 0 2 0;
#X connect 1 0 9 0;
#X connect 1 1 13 0;
#X connect 2 0 1 1;
#X connect 4 0 26 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 10 1 11 0;
#X connect 11 0 12 1;
#X connect 13 0 6 0;
#X connect 14 0 3 0;
#X connect 14 0 5 0;
#X connect 15 0 30 0;
#X connect 16 0 17 0;
#X connect 16 1 20 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 18 0 21 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 21 0 22 0;
#X connect 21 1 25 0;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 25 0 23 1;
#X connect 26 0 15 0;
#X connect 26 1 1 0;
#X connect 26 2 0 0;
#X connect 26 3 14 0;
#X connect 27 0 15 0;
#X connect 28 0 14 0;
#X connect 29 0 16 0;
#X connect 30 0 29 0;
#X connect 30 1 31 0;
#X connect 31 0 29 1;
#X restore 187 236 pd parse the list message;
#X text 375 230 <-- splitting players to channels;
#X text 178 284 'connect' msg (for channels);
#X text 447 276 search only player name (like send_to);
#X msg 337 589 invite \$1 \$2 88;
#X obj 117 14 r connecting;
#X obj 1176 556 r to_aoo_receive;
#X obj 1016 633 route connect;
#X obj 1002 671 route all;
#X msg 931 537 invite group player3 555;
#X msg 1015 497 connect all 1 2;
#X msg 1162 523 connect player2 3 4;
#X msg 1158 498 connect player1 1 2;
#X obj 1079 672 list split 1;
#X obj 1079 698 print;
#X msg 911 580 uninvite;
#X msg 1047 439 \; send_to_sink list player3 4 player2 1 player1 2
;
#X obj 63 452 list split 2;
#X obj 63 478 list append 1;
#X obj 63 529 list prepend invite;
#X obj 63 555 list prepend 1;
#X obj 193 476 + 1;
#X obj 212 540 + 1;
#X obj 193 447 r peer-sink-id;
#X obj 212 514 r peer-source-id;
#X msg 653 600 all uninvite;
#X connect 0 0 1 0;
#X connect 1 0 60 0;
#X connect 1 1 19 0;
#X connect 2 0 24 0;
#X connect 3 0 4 0;
#X connect 4 0 22 0;
#X connect 4 1 21 0;
#X connect 5 0 47 0;
#X connect 6 0 36 0;
#X connect 7 0 14 0;
#X connect 9 0 32 0;
#X connect 9 1 10 0;
#X connect 10 0 2 0;
#X connect 12 0 11 1;
#X connect 13 0 11 1;
#X connect 14 0 15 0;
#X connect 14 1 43 1;
#X connect 15 0 26 0;
#X connect 15 1 30 0;
#X connect 16 0 20 0;
#X connect 17 0 20 0;
#X connect 18 0 23 0;
#X connect 19 0 43 0;
#X connect 20 0 18 0;
#X connect 21 0 5 0;
#X connect 21 1 12 0;
#X connect 21 2 17 0;
#X connect 22 0 6 0;
#X connect 22 1 13 0;
#X connect 22 2 16 0;
#X connect 23 0 24 0;
#X connect 24 0 3 0;
#X connect 24 1 6 1;
#X connect 24 2 23 1;
#X connect 25 0 17 0;
#X connect 26 0 35 0;
#X connect 26 1 43 2;
#X connect 27 0 68 0;
#X connect 29 0 7 0;
#X connect 30 0 43 1;
#X connect 31 0 11 0;
#X connect 32 0 31 0;
#X connect 33 0 34 0;
#X connect 34 0 0 0;
#X connect 35 0 33 0;
#X connect 36 0 8 0;
#X connect 43 0 9 0;
#X connect 48 0 7 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 1 56 0;
#X connect 52 0 50 0;
#X connect 53 0 50 0;
#X connect 54 0 50 0;
#X connect 55 0 50 0;
#X connect 56 0 57 0;
#X connect 58 0 50 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 63 0 28 0;
#X connect 64 0 61 1;
#X connect 65 0 63 1;
#X connect 66 0 64 0;
#X connect 67 0 65 0;
#X connect 68 0 28 0;
#X restore 107 21 pd old;
#X obj 593 230 tgl 15 0 input-type input-type-set stereo 17 7 0 10
-262144 -1 -1 0 1;
#X obj 522 303 r input-type;
#X obj 575 365 r input-type;
#X obj 575 391 sel;
#X msg 575 417 mono;
#X msg 518 412 stereo;
#X obj 518 438 symbol;
#X msg 518 464 label \$1;
#X obj 518 490 s input-type-set;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 5 0;
#X connect 5 0 7 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X restore 23 302 pd receive_from;
#N canvas 475 106 711 570 send_to 0;
#N canvas 0 22 450 300 old 0;
#X msg 42 479 line 0 \, auto;
#X obj 42 505 text sequence peers;
#X obj 227 337 _list-drip;
#X obj 48 132 route symbol list;
#X obj 49 311 sel all;
#X obj 317 671 r \$0-clear;
#X obj 140 822 s to_aoo_send;
#X obj 42 398 ==;
#X obj 42 424 sel;
#X obj 43 372 text size peers;
#X text 577 74 see receive_from (it is a verbose version of this);
#X obj 47 612 list split 2;
#X obj 367 23 r connecting;
#X obj 294 407 r \$0-clear;
#X obj 186 440 _find peers 1;
#X msg 449 722 \$1 not found in peers...;
#X obj 449 748 print send_to;
#X obj 197 548 text get peers;
#X obj 46 669 list prepend add;
#X obj 44 765 list trim;
#X obj 46 638 list append 1;
#X obj 146 608 r sink-id;
#X obj 146 637 + 1;
#X obj 115 230 t a b b;
#X obj 533 565 s sink-id-set;
#X obj 422 142 _store send_to_sink;
#X obj 425 169 route list;
#X obj 278 204 t a b;
#X msg 430 337 2;
#X obj 236 370 list split 1;
#X obj 528 448 route bang;
#X obj 535 533 - 1;
#X text 389 557 default sink id 1 for sending to one or multiple players
, f 20;
#X text 540 598 change sink to incoming message, f 11;
#X text 346 187 player1 sinkid \, player2 sinkid2 \, ...;
#X text 233 228 player1 \, player2;
#X text 59 549 direct sink 2;
#X msg 491 483 2;
#X msg 301 714 all remove;
#X obj 45 717 list prepend 1;
#X obj 169 691 r source-id;
#X obj 169 717 + 1;
#X obj 793 124 _store send_complex;
#X obj 871 293 list length;
#X obj 870 319 / 3;
#X obj 795 175 route list;
#X obj 787 242 t a a;
#X obj 723 558 - 1;
#X obj 723 584 s source-id-set;
#X obj 427 208 t a b b;
#X msg 338 306 1;
#X obj 588 476 list split 1;
#X obj 649 504 route bang;
#X obj 232 270 t a b;
#X obj 371 81 t b b b;
#X text 640 147 player1 sinkid sourceid \, player2 sinkid2 sourceid2
\, ...;
#X text 63 340 all;
#X text 112 210 player1;
#X obj 504 177 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 876 198 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 46 345 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 42 451 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 369 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 171 239 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 323 212 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 51 96 # _store send_to;
#X msg 413 751;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 29 0;
#X connect 3 0 4 0;
#X connect 3 1 27 0;
#X connect 4 0 60 0;
#X connect 4 1 23 0;
#X connect 5 0 38 0;
#X connect 7 0 8 0;
#X connect 8 0 61 0;
#X connect 9 0 7 0;
#X connect 11 0 20 0;
#X connect 12 0 62 0;
#X connect 13 0 14 1;
#X connect 14 0 17 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 17 0 11 0;
#X connect 18 0 39 0;
#X connect 19 0 6 0;
#X connect 20 0 18 0;
#X connect 21 0 22 0;
#X connect 22 0 20 1;
#X connect 23 0 14 0;
#X connect 23 1 38 0;
#X connect 23 2 37 0;
#X connect 23 2 63 0;
#X connect 25 0 26 0;
#X connect 26 0 49 0;
#X connect 26 1 58 0;
#X connect 27 0 53 0;
#X connect 27 1 2 1;
#X connect 27 1 50 0;
#X connect 27 1 64 0;
#X connect 28 0 2 1;
#X connect 29 0 14 0;
#X connect 29 1 30 0;
#X connect 30 1 51 0;
#X connect 31 0 24 0;
#X connect 37 0 31 0;
#X connect 38 0 6 0;
#X connect 39 0 19 0;
#X connect 40 0 41 0;
#X connect 41 0 39 1;
#X connect 42 0 45 0;
#X connect 43 0 44 0;
#X connect 44 0 29 1;
#X connect 45 0 46 0;
#X connect 45 1 59 0;
#X connect 46 0 53 0;
#X connect 46 1 43 0;
#X connect 47 0 48 0;
#X connect 49 0 53 0;
#X connect 49 1 28 0;
#X connect 49 2 50 0;
#X connect 50 0 29 1;
#X connect 51 0 31 0;
#X connect 51 1 52 0;
#X connect 52 1 47 0;
#X connect 53 0 2 0;
#X connect 53 1 38 0;
#X connect 54 0 65 0;
#X connect 54 1 25 0;
#X connect 54 2 42 0;
#X connect 60 0 9 0;
#X connect 61 0 0 0;
#X connect 62 0 54 0;
#X connect 65 0 3 0;
#X restore 50 35 pd old;
#X obj 58 75 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 43 203 _store send_to;
#X obj 43 233 route symbol list;
#X msg 393 51 \; send_to Oded Marc;
#X obj 484 111 text define dummy-peers;
#X obj 434 248 text set dummy-peers;
#X msg 478 219 1e+10;
#X obj 434 222 t a b;
#X obj 40 407 sel -1;
#X obj 58 95 text size dummy-peers;
#X obj 58 147 sel;
#X obj 58 121 ==;
#X obj 40 355 t a a;
#X obj 40 433 symbol;
#X msg 40 459 peer <\$1> not found in group...;
#X obj 40 485 print;
#X obj 311 292 text get dummy-peers;
#X obj 50 175 t b b;
#X msg 440 140 Oded;
#X msg 582 53 clear;
#X msg 197 510 sourceID group name sinkID channelOffset;
#X obj 311 321 list split 2;
#X msg 349 202 0;
#X msg 434 170 accad Jacob \, accad Ann;
#X obj 40 381 text search dummy-peers 1;
#X obj 434 196 list;
#X obj 316 457 print;
#X obj 315 384 list prepend add;
#X obj 318 409 list prepend 1;
#X obj 101 260 _list-drip 2;
#X obj 101 286 list split 1;
#X obj 99 316 list;
#X msg 235 125 \; send_to Ann 2 Jacob 2;
#X obj 199 287 t a b;
#X msg 237 83 \; send_to Ann Jacob;
#X obj 90 352 list split 1;
#X obj 332 235 route bang;
#X msg 332 261 2;
#X obj 313 360 list append 2;
#X msg 167 22 \; send_to Oded Ann Jacob;
#X msg 179 159 \; send_to Oded 2 Ann 2 Jacob 2;
#X obj 143 312 route float;
#X connect 1 0 10 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 3 1 30 0;
#X connect 7 0 6 1;
#X connect 8 0 6 0;
#X connect 8 1 7 0;
#X connect 9 0 14 0;
#X connect 9 1 17 0;
#X connect 10 0 12 0;
#X connect 11 0 18 0;
#X connect 12 0 11 0;
#X connect 13 0 25 0;
#X connect 13 1 14 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 22 0;
#X connect 18 0 2 0;
#X connect 18 1 23 0;
#X connect 19 0 26 0;
#X connect 20 0 5 0;
#X connect 22 0 39 0;
#X connect 24 0 26 0;
#X connect 25 0 9 0;
#X connect 26 0 8 0;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 31 1 42 0;
#X connect 32 0 36 0;
#X connect 34 0 32 0;
#X connect 34 1 32 1;
#X connect 36 0 13 0;
#X connect 36 1 37 0;
#X connect 37 0 38 0;
#X connect 37 1 39 1;
#X connect 38 0 39 1;
#X connect 39 0 28 0;
#X connect 42 0 32 1;
#X connect 42 1 34 0;
#X restore 23 333 pd send_to;
#N canvas 313 162 573 425 signals 0;
#X obj 291 278 catch~ mono;
#X obj 66 56 _vumeter in;
#X obj 290 331 _vumeter out;
#X text 278 29 <-- adc (16 chans);
#X text 151 304 dac (16 chans) -->;
#X text 112 111 8 stereo sources -->;
#X text 313 243 <-- 8 stereo sinks;
#X text 22 45 SOURCES, f 1;
#X text 24 213 SINKS, f 1;
#N canvas 177 21 977 701 to_aoo_send 0;
#X obj 239 12 r start;
#X msg 214 73 stop;
#X msg 263 75 start;
#X obj 240 40 sel;
#X obj 374 453 nbx 5 14 -1e+37 1e+37 0 0 empty packetsize packetsize
0 -8 0 10 -262144 -1 -1 512 256;
#X msg 374 472 packetsize \$1;
#X text 480 470 max. UDP packet size (default: 512 bytes);
#X obj 383 522 nbx 8 14 -1e+37 1e+37 0 0 empty timefilter timefilter
0 -8 0 10 -262144 -1 -1 1 256;
#X msg 383 564 timefilter \$1;
#X text 487 562 time DLL filter bandwidth (default: 0.0001);
#X msg 387 629 resend \$1;
#X obj 387 608 nbx 5 14 -1e+37 1e+37 0 0 empty resend resend 0 -8 0
10 -262144 -1 -1 0 256;
#X text 466 629 buffersize (ms) for resending lost packets (default:
1000);
#X msg 363 413 ping \$1;
#X obj 363 362 nbx 5 14 -1e+37 1e+37 0 0 empty ping ping 0 -8 0 10
-262144 -1 -1 1 256;
#X text 429 413 set ping interval in ms (default: 1000) \, 0 = off
;
#X msg 346 317 accept \$1;
#X obj 346 296 tgl 15 0 empty accept accept 17 7 0 10 -262144 -1 -1
0 1;
#X text 424 299 1 (default): automatically accept all (un)invitations
from sinks., f 65;
#X text 425 320 0: (un)invitations cause a [invite( resp. [uninvite(
event which, f 64;
#X text 450 339 has to be handled manually.;
#X msg 323 217 port \$1;
#X obj 323 197 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 335 265 id \$1;
#X obj 335 246 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 392 216 change receive port;
#X text 392 266 change AoO source ID;
#X msg 318 145 list_sinks;
#X obj 316 109 r list-all;
#X obj 16 35 r to_aoo_send;
#X obj 363 382 * 1000;
#X obj 383 541 * 0.0001;
#X obj 230 129 t a;
#X obj 140 282 list prepend all;
#X obj 140 308 list trim;
#X obj 14 662 outlet;
#X obj 126 189 r format;
#X obj 684 158 r ping_time;
#X msg 587 176 1;
#X obj 587 202 s ping-set;
#X obj 682 210 t b f;
#X connect 0 0 3 0;
#X connect 1 0 32 0;
#X connect 2 0 32 0;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 5 0 33 0;
#X connect 7 0 31 0;
#X connect 8 0 33 0;
#X connect 10 0 33 0;
#X connect 11 0 10 0;
#X connect 13 0 33 0;
#X connect 14 0 30 0;
#X connect 16 0 33 0;
#X connect 17 0 16 0;
#X connect 21 0 33 0;
#X connect 22 0 21 0;
#X connect 23 0 33 0;
#X connect 24 0 23 0;
#X connect 27 0 33 0;
#X connect 28 0 27 0;
#X connect 29 0 35 0;
#X connect 30 0 13 0;
#X connect 31 0 8 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 36 0 33 0;
#X connect 37 0 40 0;
#X connect 38 0 39 0;
#X connect 40 0 38 0;
#X connect 40 1 30 1;
#X restore 276 83 pd to_aoo_send;
#N canvas 231 38 818 705 to_aoo_receive 0;
#X msg 149 363 timefilter \$1;
#X obj 149 317 nbx 8 14 -1e+37 1e+37 0 0 empty timefilter timefilter
0 -8 0 10 -262144 -1 -1 1 256;
#X text 252 363 time DLL filter bandwidth (default: 0.0001);
#X msg 189 629 resend 0;
#X msg 186 594 resend;
#X text 239 595 turn on (auto);
#X text 181 536 resend lost packets (on by default):;
#X text 353 581 2) interval (ms) = time between attempts;
#X text 353 604 3) maxnumframes = max. number of frames to request
at once;
#X text 353 630 all arguments are optional or can be "auto", f 44
;
#X text 259 630 turn off;
#X obj 158 410 nbx 5 14 -1e+37 1e+37 0 0 empty packetsize packetsize
0 -8 0 10 -262144 -1 -1 512 256;
#X msg 158 430 packetsize \$1;
#X text 264 428 max. UDP packet size (default: 512 bytes);
#X msg 182 561 resend 4 10 16;
#X text 353 559 1) limit = max. number of attempts per frame;
#X msg 165 468 reset;
#X text 222 461 reset all sources (e.g. if the stream seems to be broken
or out of sync), f 47;
#X text 340 502 reset individual source;
#X msg 171 501 reset localhost 9998 1;
#X obj 128 199 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X msg 188 199 0;
#X text 222 199 stop listening;
#X msg 128 224 port \$1;
#X text 190 224 change receive port;
#X msg 139 273 id \$1;
#X obj 139 254 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 0 256;
#X text 193 272 change AoO sink ID;
#X msg 105 167 bufsize \$1;
#X obj 105 143 nbx 5 14 -1e+37 1e+37 0 0 empty bufsize bufsize 0 -8
0 10 -262144 -1 -1 60 256;
#X text 186 166 increase for jittery \, unreliable networks!;
#X text 187 145 buffer size in ms (default: 20 ms);
#X msg 65 96 list_sources;
#X obj 65 70 r list-all;
#X obj 149 338 * 0.0001;
#X obj 31 547 list prepend all;
#X obj 31 573 list trim;
#X obj 14 605 outlet;
#X obj 18 20 r to_aoo_receive;
#X connect 0 0 35 0;
#X connect 1 0 34 0;
#X connect 3 0 35 0;
#X connect 4 0 35 0;
#X connect 11 0 12 0;
#X connect 12 0 35 0;
#X connect 14 0 35 0;
#X connect 16 0 35 0;
#X connect 19 0 35 0;
#X connect 20 0 23 0;
#X connect 21 0 23 0;
#X connect 23 0 35 0;
#X connect 25 0 35 0;
#X connect 26 0 25 0;
#X connect 28 0 35 0;
#X connect 29 0 28 0;
#X connect 32 0 35 0;
#X connect 33 0 32 0;
#X connect 34 0 0 0;
#X connect 35 0 36 0;
#X connect 36 0 37 0;
#X connect 38 0 37 0;
#X restore 71 220 pd to_aoo_receive;
#N canvas 568 255 609 350 from_aoo_send 0;
#X obj 33 17 inlet;
#X obj 33 211 spigot;
#X obj 72 185 r verbose;
#X obj 33 239 print [aoo_send~];
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X restore 265 140 pd from_aoo_send;
#N canvas 369 1 870 776 latency 0;
#X obj 256 32 r latency;
#X obj 34 50 inlet;
#X obj 35 189 route 1;
#X text 95 189 <-- get direct sinks only;
#X obj 91 243 list split 2;
#X obj 35 317 text search peers 2 3;
#X obj 145 389 list;
#X obj 34 119 spigot;
#X msg 92 85 1;
#X msg 101 117 0;
#X msg 531 89 testing latency...;
#X obj 149 103 del 10001;
#X obj 538 126 print;
#X obj 371 45 text define latency-average;
#X obj 135 452 t a b;
#X obj 135 478 text set latency-average;
#X msg 184 452 1e+10;
#X obj 98 54 del 1;
#X obj 149 77 t b b b b;
#X obj 374 549 text get peers;
#X obj 374 575 list split 1;
#X obj 402 611 list split 1;
#X msg 417 271 line 0 \, auto;
#X obj 417 297 text sequence latency-average;
#X obj 297 181 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 297 201 s ping-set;
#X obj 247 283 list split 3;
#X obj 274 330 list split 1;
#N canvas 0 22 450 300 avg-arr 0;
#X obj 10 25 array define lp-0;
#X restore 612 42 pd avg-arr;
#N canvas 0 22 450 580 make 0;
#X msg 80 51 bang;
#X obj 80 77 text size peers;
#X obj 103 232 until;
#X obj 103 258 f;
#X obj 103 284 + 1;
#X msg 140 256 0;
#X msg 204 225 clear;
#X obj 204 251 s pd-avg-arr;
#X obj 152 289 t f f;
#X obj 153 365 pack f f;
#X obj 152 315 * 25;
#X msg 212 291 obj 10 \$1 array define lp-\$2;
#X obj 152 340 + 25;
#X obj 108 13 inlet;
#X obj 80 111 t f f f;
#X obj 79 155 spigot;
#X obj 155 147 sel;
#X obj 66 188 t b f b b;
#X obj 94 413 outlet;
#X obj 317 413 outlet;
#X connect 0 0 1 0;
#X connect 1 0 14 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 8 0 10 0;
#X connect 8 1 9 1;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 7 0;
#X connect 12 0 9 0;
#X connect 13 0 1 0;
#X connect 14 0 15 0;
#X connect 14 1 15 1;
#X connect 14 2 16 0;
#X connect 15 0 17 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 17 1 2 0;
#X connect 17 2 5 0;
#X connect 17 3 6 0;
#X restore 258 60 pd make arrays;
#X msg 149 129 bang \; ping-set 0 \;;
#X msg 372 103 no peers...;
#X obj 417 323 list split 1;
#X obj 377 373 makefilename lp-%d;
#X obj 377 399 t b a;
#X obj 377 425 f;
#X obj 481 454 f;
#X obj 481 480 + 1;
#X msg 575 387 0;
#X obj 377 451 array set;
#X obj 337 16 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 633 341 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 397 348 t f f;
#X obj 481 402 sel;
#X obj 596 451 text size peers;
#X obj 596 477 until;
#X obj 596 503 f;
#X obj 596 529 + 1;
#X msg 634 505 0;
#X obj 630 389 t b b;
#X obj 556 552 makefilename lp-%d;
#X obj 556 578 t b a;
#X obj 556 604 array sum;
#X obj 525 640 / 100;
#X text 669 615 array size = 100;
#X obj 432 513 t f f;
#X msg 8 474 \; peers click;
#X msg 398 18 clear;
#X obj 63 216 t a a;
#X obj 140 420 list;
#X msg 681 184 \; ping_time-set 1000;
#X obj 430 661 list;
#X obj 430 687 list trim;
#X obj 430 713 print;
#X obj 456 351 list split 1;
#X msg 410 159 \; start-set 1 \; verbose-set 0 \; latency-average clear
\; ping_time-set 100 \; ping-set 1 \;;
#X connect 0 0 29 0;
#X connect 1 0 7 0;
#X connect 2 0 58 0;
#X connect 4 0 5 0;
#X connect 4 1 26 0;
#X connect 5 0 6 0;
#X connect 6 0 59 0;
#X connect 7 0 2 0;
#X connect 8 0 7 1;
#X connect 9 0 7 1;
#X connect 10 0 12 0;
#X connect 11 0 30 0;
#X connect 11 0 9 0;
#X connect 14 0 15 0;
#X connect 14 1 16 0;
#X connect 16 0 15 1;
#X connect 17 0 8 0;
#X connect 18 0 11 0;
#X connect 18 1 17 0;
#X connect 18 2 65 0;
#X connect 18 3 10 0;
#X connect 19 0 20 0;
#X connect 20 1 21 0;
#X connect 21 0 61 0;
#X connect 22 0 23 0;
#X connect 23 0 32 0;
#X connect 23 1 38 0;
#X connect 23 1 41 0;
#X connect 24 0 25 0;
#X connect 26 1 27 0;
#X connect 27 0 6 1;
#X connect 29 0 18 0;
#X connect 29 1 31 0;
#X connect 30 0 22 0;
#X connect 31 0 12 0;
#X connect 32 0 42 0;
#X connect 32 1 64 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 34 1 39 2;
#X connect 35 0 39 0;
#X connect 36 0 37 0;
#X connect 36 0 39 1;
#X connect 37 0 36 1;
#X connect 38 0 36 1;
#X connect 40 0 29 0;
#X connect 41 0 49 0;
#X connect 42 0 33 0;
#X connect 42 1 43 0;
#X connect 43 0 36 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 46 0 55 0;
#X connect 47 0 46 1;
#X connect 48 0 46 1;
#X connect 49 0 44 0;
#X connect 49 1 48 0;
#X connect 50 0 51 0;
#X connect 51 0 52 0;
#X connect 51 1 52 2;
#X connect 52 0 53 0;
#X connect 53 0 61 1;
#X connect 55 0 19 0;
#X connect 55 1 50 0;
#X connect 57 0 13 0;
#X connect 58 0 4 0;
#X connect 58 1 59 1;
#X connect 59 0 14 0;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 64 0 35 1;
#X restore 440 139 pd latency;
#X obj 290 305 clone -s 1 _dacout 24 out-vol;
#X obj 266 110 clone -s 1 _snd 8 8888 input;
#X obj 66 27 clone -s 1 _dacin 16 in-vol;
#X obj 71 247 clone -s 1 _rcv 8 8888 dacout;
#X connect 0 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 16 0;
#X connect 13 0 2 0;
#X connect 14 0 11 0;
#X connect 14 1 12 0;
#X connect 15 0 1 0;
#X restore 23 364 pd signals;
#N canvas 139 67 709 560 setup 0;
#X obj 270 242 t b p;
#X msg 270 268 line 0 \, auto;
#X obj 270 294 text sequence -s text t -g;
#X obj 55 58 r load;
#X obj 270 216 r setup-ptr;
#X obj 320 484 r #;
#X text 295 505 route commented-out lines;
#X obj 58 315 text;
#X obj 57 246 symbol;
#X msg 57 275 read -c \$1 \, send setup-ptr, f 18;
#X obj 203 76 openpanel;
#X obj 203 50 r open;
#X msg 404 131 0;
#X obj 521 424 s connect-set;
#X msg 483 395 1;
#X obj 203 102 t a b;
#X obj 482 310 spigot 1;
#X obj 484 338 t b b;
#X msg 545 310 0;
#X msg 462 117 1;
#X obj 203 368 t b a;
#X obj 187 437 s load-set;
#X obj 195 402 del 10;
#X obj 59 214 t b b;
#X text 39 7 initial variables and setup.txt parsing;
#X obj 505 47 pdcontrol;
#X msg 505 21 browse setup.txt;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 2 0;
#X connect 2 1 16 0;
#X connect 3 0 23 0;
#X connect 4 0 0 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 15 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 14 0 13 0;
#X connect 15 0 20 0;
#X connect 15 1 12 0;
#X connect 15 1 19 0;
#X connect 16 0 17 0;
#X connect 17 0 14 0;
#X connect 17 1 18 0;
#X connect 18 0 16 1;
#X connect 19 0 16 1;
#X connect 20 0 22 0;
#X connect 20 1 8 1;
#X connect 22 0 21 0;
#X connect 23 0 8 0;
#X connect 23 1 12 0;
#X connect 26 0 25 0;
#X restore 23 116 pd setup;
#N canvas 0 22 610 423 online 0;
#X obj 95 45 r client-8888;
#X obj 159 128 r group_join;
#X obj 163 157 symbol;
#X obj 95 186 sel mygroup;
#X msg 164 229 1;
#X obj 164 276 s online-set;
#X msg 218 229 0;
#X obj 95 139 symbol;
#X msg 281 138 0;
#X obj 297 177 s connected;
#X obj 92 305 s \$0-clear;
#X text 175 306 refresh stuff when online;
#X obj 95 92 route group_join disconnected;
#X obj 95 233 t b b;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 3 0 13 0;
#X connect 3 1 6 0;
#X connect 4 0 5 0;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 8 0 9 0;
#X connect 12 0 7 0;
#X connect 12 1 8 0;
#X connect 13 0 10 0;
#X connect 13 1 4 0;
#X restore 23 176 pd online;
#N canvas 526 326 394 394 advanced 0;
#X obj 180 282 namecanvas \$0-advanced;
#X text 135 10 ADVANCED SETTINGS;
#X obj 45 46 g_pcm;
#X obj 197 46 g_opus;
#X obj 45 196 g_server;
#X obj 175 316 g_routing;
#N canvas 261 220 450 300 dummy 0;
#X obj 16 169 pd~ -ninsig 2 -noutsig 2;
#X obj 95 120 osc~ 330;
#X obj 167 132 osc~ 555;
#X obj 89 210 env~;
#X floatatom 89 236 5 0 0 0 - - -;
#X obj 166 205 env~;
#X floatatom 166 231 5 0 0 0 - - -;
#X msg 95 72 pd~ stop;
#X msg 16 17 pd~ start -nogui player.pd;
#X msg 242 94 onoff \$1;
#X obj 242 73 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 43 45 player_name symbol dog \, connect bang;
#N canvas 116 105 1005 652 dummies 0;
#X obj 321 11 cnv 15 138 158 dummies-cnv dummies-cnv-set dummies 10
12 0 14 -233017 -1 0;
#X msg 41 175 pd~ stop;
#X obj 73 239 pdcontrol;
#X obj 73 291 list trim;
#X msg 44 89 9999 9998 9988 9888;
#X obj 44 115 unpack f f f f;
#X msg 251 175 pd~ stop;
#X obj 283 239 pdcontrol;
#X obj 283 291 list trim;
#X msg 282 205 dir 0 lib/_dummy-\$1.pd;
#X msg 491 175 pd~ stop;
#X obj 523 239 pdcontrol;
#X obj 523 291 list trim;
#X msg 522 205 dir 0 lib/_dummy-\$1.pd;
#X msg 691 175 pd~ stop;
#X obj 723 239 pdcontrol;
#X obj 723 291 list trim;
#X msg 722 205 dir 0 lib/_dummy-\$1.pd;
#X obj 632 135 bng 15 250 50 0 empty empty stop 17 7 0 10 -262144 -1
-1;
#X obj 328 71 tgl 15 0 empty empty a 17 7 0 10 -262144 -1 -1 0 1;
#X obj 92 346 *~ 0.01;
#X obj 92 372 *~;
#X obj 20 407 pd~ -ninsig 1 -noutsig 2 -fifo 5;
#X obj 278 416 pd~ -ninsig 1 -noutsig 2 -fifo 5;
#X obj 522 418 pd~ -ninsig 1 -noutsig 2 -fifo 5;
#X obj 764 418 pd~ -ninsig 1 -noutsig 2 -fifo 5;
#X obj 124 373 osc~ 440;
#X obj 328 95 tgl 15 0 empty empty c 17 7 0 10 -262144 -1 -1 0 1;
#X obj 302 346 *~ 0.01;
#X obj 302 372 *~;
#X obj 328 119 tgl 15 0 empty empty e 17 7 0 10 -262144 -1 -1 0 1;
#X obj 532 346 *~ 0.01;
#X obj 532 372 *~;
#X obj 328 143 tgl 15 0 empty empty a' 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 802 346 *~ 0.01;
#X obj 802 372 *~;
#X obj 564 373 osc~ 667;
#X obj 834 373 osc~ 889;
#X obj 109 455 env~;
#X floatatom 377 71 5 0 0 0 - - -;
#X obj 199 455 env~;
#X floatatom 417 71 5 0 0 0 - - -;
#X obj 143 525 *~;
#X obj 590 623 dac~;
#X obj 173 525 *~;
#X obj 356 71 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 379 455 env~;
#X floatatom 377 95 5 0 0 0 - - -;
#X obj 469 455 env~;
#X floatatom 417 95 5 0 0 0 - - -;
#X obj 413 525 *~;
#X obj 443 525 *~;
#X obj 356 95 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 619 455 env~;
#X floatatom 377 119 5 0 0 0 - - -;
#X obj 709 455 env~;
#X floatatom 417 119 5 0 0 0 - - -;
#X obj 653 525 *~;
#X obj 683 525 *~;
#X obj 356 119 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 859 455 env~;
#X floatatom 377 143 5 0 0 0 - - -;
#X obj 949 455 env~;
#X floatatom 417 143 5 0 0 0 - - -;
#X obj 893 525 *~;
#X obj 923 525 *~;
#X obj 356 143 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 72 205 dir 0 lib/_dummy-\$1.pd;
#X obj 73 265 list prepend pd~ start -nogui;
#X obj 283 265 list prepend pd~ start -nogui;
#X obj 523 265 list prepend pd~ start -nogui;
#X obj 723 265 list prepend pd~ start -nogui;
#X obj 334 373 osc~ 556;
#X obj 84 28 bng 15 250 50 0 empty empty start 17 7 0 10 -262144 -1
-1;
#X obj 331 57 tgl 10 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 358 57 tgl 10 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X text 83 55 start;
#X text 86 328 send dummy sig;
#X text 159 500 dummy receive;
#X text 9 169 stop;
#X obj 438 17 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 540 98 sel 0 1;
#X obj 711 21 sel 0 1;
#X msg 694 98 \; dummies-cnv-set color \$1 0 22 \;;
#X msg 694 62 10;
#X msg 743 60 6;
#X obj 530 22 t a a a a;
#X obj 837 15 switch~;
#X obj 159 25 del 100;
#X connect 1 0 22 0;
#X connect 2 0 68 0;
#X connect 3 0 22 0;
#X connect 4 0 5 0;
#X connect 5 0 67 0;
#X connect 5 1 9 0;
#X connect 5 2 13 0;
#X connect 5 3 17 0;
#X connect 6 0 23 0;
#X connect 7 0 69 0;
#X connect 8 0 23 0;
#X connect 9 0 7 0;
#X connect 10 0 24 0;
#X connect 11 0 70 0;
#X connect 12 0 24 0;
#X connect 13 0 11 0;
#X connect 14 0 25 0;
#X connect 15 0 71 0;
#X connect 16 0 25 0;
#X connect 17 0 15 0;
#X connect 18 0 1 0;
#X connect 18 0 14 0;
#X connect 18 0 10 0;
#X connect 18 0 6 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 1 38 0;
#X connect 22 1 42 0;
#X connect 22 2 40 0;
#X connect 22 2 44 0;
#X connect 23 1 46 0;
#X connect 23 1 50 0;
#X connect 23 2 48 0;
#X connect 23 2 51 0;
#X connect 24 1 53 0;
#X connect 24 1 57 0;
#X connect 24 2 55 0;
#X connect 24 2 58 0;
#X connect 25 1 60 0;
#X connect 25 1 64 0;
#X connect 25 2 62 0;
#X connect 25 2 65 0;
#X connect 26 0 21 1;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 23 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 32 0 24 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 25 0;
#X connect 36 0 32 1;
#X connect 37 0 35 1;
#X connect 38 0 39 0;
#X connect 40 0 41 0;
#X connect 42 0 43 0;
#X connect 44 0 43 1;
#X connect 45 0 42 1;
#X connect 45 0 44 1;
#X connect 46 0 47 0;
#X connect 48 0 49 0;
#X connect 50 0 43 0;
#X connect 51 0 43 1;
#X connect 52 0 50 1;
#X connect 52 0 51 1;
#X connect 53 0 54 0;
#X connect 55 0 56 0;
#X connect 57 0 43 0;
#X connect 58 0 43 1;
#X connect 59 0 57 1;
#X connect 59 0 58 1;
#X connect 60 0 61 0;
#X connect 62 0 63 0;
#X connect 64 0 43 0;
#X connect 65 0 43 1;
#X connect 66 0 64 1;
#X connect 66 0 65 1;
#X connect 67 0 2 0;
#X connect 68 0 3 0;
#X connect 69 0 8 0;
#X connect 70 0 12 0;
#X connect 71 0 16 0;
#X connect 72 0 29 1;
#X connect 73 0 4 0;
#X connect 74 0 33 0;
#X connect 74 0 30 0;
#X connect 74 0 27 0;
#X connect 74 0 19 0;
#X connect 75 0 45 0;
#X connect 75 0 52 0;
#X connect 75 0 59 0;
#X connect 75 0 66 0;
#X connect 80 0 86 0;
#X connect 81 0 18 0;
#X connect 81 1 88 0;
#X connect 82 0 84 0;
#X connect 82 1 85 0;
#X connect 84 0 83 0;
#X connect 85 0 83 0;
#X connect 86 0 74 0;
#X connect 86 1 81 0;
#X connect 86 2 82 0;
#X connect 86 3 87 0;
#X connect 88 0 73 0;
#X coords 0 -1 1 1 140 160 2 320 10;
#X restore 252 125 pd dummies;
#X connect 0 1 3 0;
#X connect 0 2 5 0;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 7 0 0 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 11 0 0 0;
#X restore 256 314 pd dummy;
#X restore 23 390 pd advanced;
#X restore 408 209 pd guts;
#X obj 37 37 g_status;
